function _0x407e(_0x248afa,_0x135f9d){const _0x3387d1=_0x3387();return _0x407e=function(_0x407e80,_0xb5d836){_0x407e80=_0x407e80-0x184;let _0x22dde3=_0x3387d1[_0x407e80];return _0x22dde3;},_0x407e(_0x248afa,_0x135f9d);}function _0x3387(){const _0x520896=['join','Error\x20deleting\x20old\x20logs:','306174BITkdV','user_id','üîí\x20–í—ã—à–µ–ª\x20–∏–∑\x20—Å–∏—Å—Ç–µ–º—ã','9CKppxY','setDate','info','user_name','–ì–æ—Å—Ç—å','790270UZJpIm','Error\x20trimming\x20logs:','admin_panel_access','üîì\x20–í–æ—à—ë–ª\x20–≤\x20—Å–∏—Å—Ç–µ–º—É','\x20–¥–Ω–µ–π)\x20—É–¥–∞–ª–µ–Ω—ã','entity_id','‚úèÔ∏è\x20–û–±–Ω–æ–≤–∏–ª\x20–ø—Ä–æ—Ç–æ–∫–æ–ª\x20‚Ññ','‚úèÔ∏è\x20–ò–∑–º–µ–Ω–∏–ª\x20–¥–∞–Ω–Ω—ã–µ\x20—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞\x20','map','–¢–æ–ª—å–∫–æ\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã\x20–º–æ–≥—É—Ç\x20–æ—á–∏—â–∞—Ç—å\x20–ª–æ–≥–∏','Error\x20selecting\x20old\x20logs:','Error\x20logging\x20action:','–±—ã–ª–æ','select','291292bvUPsL','üóëÔ∏è\x20–£–¥–∞–ª–∏–ª\x20–ø—Ä–æ—Ç–æ–∫–æ–ª\x20‚Ññ','delete','order','includes','üóëÔ∏è\x20–£–¥–∞–ª–∏–ª\x20—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:\x20','protocol_update','Chrome','category','toISOString','action_type','KUSP_UPDATE','‚ö†Ô∏è\x20–ü–æ–ø—ã—Ç–∫–∞\x20–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è\x20–ö–£–°–ü\x20‚Ññ','catch','gte','entries','employee_delete','11MsszTT','json','PROTOCOL_CREATE','–û—Å—Ç–∞–≤–ª–µ–Ω–æ\x20','limit','changes','violator','EMPLOYEE_UPDATE','1122171NrqmQb','2jEDiqB','PROTOCOL_UPDATE','user_agent','—Å—Ç–∞–ª–æ','14DHcfGP','getCurrentUser','üìù\x20–°–æ–∑–¥–∞–ª\x20–∑–∞–ø–∏—Å—å\x20–ö–£–°–ü\x20‚Ññ','<div\x20style=\x22margin-top:\x208px;\x20font-size:\x200.8rem;\x20color:\x20#6c757d;\x22>','–û—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–æ—á–∏—Å—Ç–∫–µ\x20–ª–æ–≥–æ–≤','–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π','nickname','entity_type','–û—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–æ–±—Ä–µ–∑–∫–µ\x20–ª–æ–≥–æ–≤','\x20–±–µ–∑\x20–∏–∑–º–µ–Ω–µ–Ω–∏–π','action_logs','Safari','exact','üìù\x20–û–±–Ω–æ–≤–∏–ª\x20–∑–∞–ø–∏—Å—å\x20–ö–£–°–ü\x20‚Ññ','admin_tab_switch','IP:\x20','protocol_create','protocol_delete','EMPLOYEE_PASSWORD_CHANGE','keys','date_to','kusp_ticket_save','üîë\x20–ò–∑–º–µ–Ω–∏–ª\x20–ø–∞—Ä–æ–ª—å\x20—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:\x20','1515804uHvHzb','toLocaleString','‚úèÔ∏è\x20–ò–∑–º–µ–Ω–∏–ª\x20–¥–∞–Ω–Ω—ã–µ\x20—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:\x20','employee_password_change','Error\x20saving\x20log\x20to\x20database:','date_from','kusp_delete','<br>','action_details','length','Firefox','Error\x20getting\x20logs:','auth_user_id','kusp_update','kusp_view','USER_LOGOUT','üìã\x20–°–æ–∑–¥–∞–ª\x20–ø—Ä–æ—Ç–æ–∫–æ–ª\x20‚Ññ','error','6613490NRugDE','–î—Ä—É–≥–æ–π\x20–±—Ä–∞—É–∑–µ—Ä','success','ip_address','showNotification','lte','Error\x20counting\x20logs:','then','guest','created_at','10960968gZdAjJ','4mPndFh','from','kusp_update_attempt','session_timeout','\x20–ø–æ—Å–ª–µ–¥–Ω–∏—Ö\x20–∑–∞–ø–∏—Å–µ–π,\x20—É–¥–∞–ª–µ–Ω–æ\x20','insert'];_0x3387=function(){return _0x520896;};return _0x3387();}(function(_0x4b8092,_0x32621b){const _0x5d192a=_0x407e,_0x3009d6=_0x4b8092();while(!![]){try{const _0x133b31=parseInt(_0x5d192a(0x1e5))/0x1*(-parseInt(_0x5d192a(0x18f))/0x2)+parseInt(_0x5d192a(0x18e))/0x3*(parseInt(_0x5d192a(0x1c7))/0x4)+parseInt(_0x5d192a(0x1d7))/0x5+-parseInt(_0x5d192a(0x1cf))/0x6*(parseInt(_0x5d192a(0x193))/0x7)+parseInt(_0x5d192a(0x1c6))/0x8*(parseInt(_0x5d192a(0x1d2))/0x9)+parseInt(_0x5d192a(0x1bc))/0xa*(-parseInt(_0x5d192a(0x186))/0xb)+parseInt(_0x5d192a(0x1aa))/0xc;if(_0x133b31===_0x32621b)break;else _0x3009d6['push'](_0x3009d6['shift']());}catch(_0x4c72fc){_0x3009d6['push'](_0x3009d6['shift']());}}}(_0x3387,0xedc1a));const Logger=(function(){const _0x46034c=_0x407e,_0x46ed1f={'EMPLOYEE_CREATE':'employee_create','EMPLOYEE_UPDATE':'employee_update','EMPLOYEE_DELETE':_0x46034c(0x185),'EMPLOYEE_PASSWORD_CHANGE':_0x46034c(0x1ad),'KUSP_CREATE':'kusp_create','KUSP_UPDATE':_0x46034c(0x1b7),'KUSP_DELETE':_0x46034c(0x1b0),'KUSP_VIEW':_0x46034c(0x1b8),'PROTOCOL_CREATE':_0x46034c(0x1a3),'PROTOCOL_UPDATE':_0x46034c(0x1eb),'PROTOCOL_DELETE':_0x46034c(0x1a4)},_0x45e021=0x64;async function _0x303d3b(){const _0x589147=_0x46034c;try{const _0x3b838c=await fetch('https://api.ipify.org?format=json'),_0x1d26bc=await _0x3b838c[_0x589147(0x187)]();return _0x1d26bc['ip'];}catch(_0x29d964){return null;}}async function _0x2d6019(){const _0x80676d=_0x46034c;try{const {count:_0x14fa0d,error:_0x2a32fd}=await supabaseClient['from'](_0x80676d(0x19d))[_0x80676d(0x1e4)]('*',{'count':_0x80676d(0x19f),'head':!![]});if(_0x2a32fd){console[_0x80676d(0x1bb)](_0x80676d(0x1c2),_0x2a32fd);return;}if(_0x14fa0d>_0x45e021){const _0x50859b=_0x14fa0d-_0x45e021,{data:_0x369135,error:_0x5d4e85}=await supabaseClient[_0x80676d(0x1c8)](_0x80676d(0x19d))[_0x80676d(0x1e4)]('id')[_0x80676d(0x1e8)]('created_at',{'ascending':!![]})['limit'](_0x50859b);if(_0x5d4e85){console[_0x80676d(0x1bb)](_0x80676d(0x1e1),_0x5d4e85);return;}if(_0x369135&&_0x369135[_0x80676d(0x1b3)]>0x0){const _0x1419e5=_0x369135[_0x80676d(0x1df)](_0x10df43=>_0x10df43['id']),{error:_0x5029f5}=await supabaseClient[_0x80676d(0x1c8)](_0x80676d(0x19d))[_0x80676d(0x1e7)]()['in']('id',_0x1419e5);if(_0x5029f5)console[_0x80676d(0x1bb)](_0x80676d(0x1ce),_0x5029f5);else{}}}}catch(_0x3d3ff2){console[_0x80676d(0x1bb)]('Error\x20in\x20cleanOldLogsIfNeeded:',_0x3d3ff2);}}async function _0x394a90(_0x25565f,_0x2b6653={},_0x1a368e=null,_0x22a205=null){const _0x551294=_0x46034c;try{const _0x212ebe=[_0x551294(0x1a8),'guest_session_start',_0x551294(0x1ca),_0x551294(0x1d9),_0x551294(0x1a1)]['includes'](_0x25565f);if(_0x212ebe)return;const _0x45dc28=Auth[_0x551294(0x194)](),_0x4be6ab=Auth['getCurrentMode']?.()||'unknown';let _0x5a8689='–°–∏—Å—Ç–µ–º–∞',_0x4b157f=null,_0x8617c6=null;if(_0x4be6ab===_0x551294(0x1c4))_0x5a8689=_0x551294(0x1d6),_0x8617c6='–ì–æ—Å—Ç—å';else _0x45dc28&&(_0x5a8689=_0x45dc28[_0x551294(0x199)]||_0x551294(0x198),_0x4b157f=_0x45dc28[_0x551294(0x1b6)]||_0x45dc28['id'],_0x8617c6=_0x45dc28[_0x551294(0x1ed)]);_0x303d3b()[_0x551294(0x1c3)](_0x22dfe1=>{const _0x359c23=_0x551294;_0x1f0a2c({'user_id':_0x4b157f,'user_name':_0x5a8689,'user_category':_0x8617c6,'action_type':_0x25565f,'action_details':{..._0x2b6653,'mode':_0x4be6ab,'timestamp':new Date()[_0x359c23(0x1ee)](),'user_agent':navigator['userAgent']},'entity_type':_0x1a368e,'entity_id':_0x22a205,'ip_address':_0x22dfe1})[_0x359c23(0x1c3)](()=>{_0x2d6019();});})[_0x551294(0x1f2)](()=>{const _0x4863a0=_0x551294;_0x1f0a2c({'user_id':_0x4b157f,'user_name':_0x5a8689,'user_category':_0x8617c6,'action_type':_0x25565f,'action_details':{..._0x2b6653,'mode':_0x4be6ab,'timestamp':new Date()[_0x4863a0(0x1ee)](),'user_agent':navigator['userAgent']},'entity_type':_0x1a368e,'entity_id':_0x22a205,'ip_address':null})[_0x4863a0(0x1c3)](()=>{_0x2d6019();});});}catch(_0x8f1bfb){console[_0x551294(0x1bb)](_0x551294(0x1e2),_0x8f1bfb);}}async function _0x1f0a2c(_0x2d1ca0){const _0x5c8245=_0x46034c;try{await supabaseClient[_0x5c8245(0x1c8)]('action_logs')[_0x5c8245(0x1cc)]([_0x2d1ca0]);}catch(_0x59365d){console[_0x5c8245(0x1bb)](_0x5c8245(0x1ae),_0x59365d);}}async function _0x44c1a6(_0x1684b1={}){const _0x3a3d68=_0x46034c;try{let _0x293d45=supabaseClient[_0x3a3d68(0x1c8)](_0x3a3d68(0x19d))[_0x3a3d68(0x1e4)]('*')['order'](_0x3a3d68(0x1c5),{'ascending':![]});_0x1684b1['user_id']&&(_0x293d45=_0x293d45['eq'](_0x3a3d68(0x1d0),_0x1684b1['user_id']));_0x1684b1['action_type']&&(_0x293d45=_0x293d45['eq'](_0x3a3d68(0x1ef),_0x1684b1['action_type']));_0x1684b1[_0x3a3d68(0x19a)]&&(_0x293d45=_0x293d45['eq'](_0x3a3d68(0x19a),_0x1684b1['entity_type']));_0x1684b1[_0x3a3d68(0x1dc)]&&(_0x293d45=_0x293d45['eq'](_0x3a3d68(0x1dc),_0x1684b1[_0x3a3d68(0x1dc)]));_0x1684b1[_0x3a3d68(0x1af)]&&(_0x293d45=_0x293d45[_0x3a3d68(0x1f3)](_0x3a3d68(0x1c5),_0x1684b1[_0x3a3d68(0x1af)]));_0x1684b1['date_to']&&(_0x293d45=_0x293d45[_0x3a3d68(0x1c1)](_0x3a3d68(0x1c5),_0x1684b1[_0x3a3d68(0x1a7)]));_0x1684b1['limit']&&(_0x293d45=_0x293d45[_0x3a3d68(0x18a)](_0x1684b1[_0x3a3d68(0x18a)]));const {data:_0x5a4382,error:_0x5ca53a}=await _0x293d45;if(_0x5ca53a)throw _0x5ca53a;return _0x5a4382||[];}catch(_0x109baf){return console['error'](_0x3a3d68(0x1b5),_0x109baf),[];}}async function _0x596db7(_0x16c74a=0x1e){const _0x5b18f6=_0x46034c;try{const _0x45d4c1=Auth['getCurrentUser']();if(!_0x45d4c1||_0x45d4c1[_0x5b18f6(0x1ed)]!=='–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä')throw new Error(_0x5b18f6(0x1e0));const _0x40312a=new Date();_0x40312a[_0x5b18f6(0x1d3)](_0x40312a['getDate']()-_0x16c74a);const {error:_0x795898}=await supabaseClient['from'](_0x5b18f6(0x19d))[_0x5b18f6(0x1e7)]()['lt'](_0x5b18f6(0x1c5),_0x40312a[_0x5b18f6(0x1ee)]());if(_0x795898)throw _0x795898;return UI[_0x5b18f6(0x1c0)]('–°—Ç–∞—Ä—ã–µ\x20–ª–æ–≥–∏\x20(—Å—Ç–∞—Ä—à–µ\x20'+_0x16c74a+_0x5b18f6(0x1db),_0x5b18f6(0x1be)),!![];}catch(_0x5eeb82){return console[_0x5b18f6(0x1bb)]('Error\x20cleaning\x20logs:',_0x5eeb82),UI[_0x5b18f6(0x1c0)](_0x5b18f6(0x197),'error'),![];}}async function _0x5ab94b(_0x32f53a=_0x45e021){const _0x176169=_0x46034c;try{const _0x357911=Auth[_0x176169(0x194)]();if(!_0x357911||_0x357911['category']!=='–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä')throw new Error('–¢–æ–ª—å–∫–æ\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã\x20–º–æ–≥—É—Ç\x20–æ—á–∏—â–∞—Ç—å\x20–ª–æ–≥–∏');const {count:_0x45bf93,error:_0x499696}=await supabaseClient[_0x176169(0x1c8)](_0x176169(0x19d))['select']('*',{'count':_0x176169(0x19f),'head':!![]});if(_0x499696)throw _0x499696;if(_0x45bf93>_0x32f53a){const _0x5ea500=_0x45bf93-_0x32f53a,{data:_0x21b0eb,error:_0x5933fd}=await supabaseClient[_0x176169(0x1c8)](_0x176169(0x19d))[_0x176169(0x1e4)]('id')[_0x176169(0x1e8)](_0x176169(0x1c5),{'ascending':!![]})[_0x176169(0x18a)](_0x5ea500);if(_0x5933fd)throw _0x5933fd;if(_0x21b0eb&&_0x21b0eb[_0x176169(0x1b3)]>0x0){const _0x1e1791=_0x21b0eb['map'](_0xd996c3=>_0xd996c3['id']),{error:_0x30dbad}=await supabaseClient[_0x176169(0x1c8)](_0x176169(0x19d))[_0x176169(0x1e7)]()['in']('id',_0x1e1791);if(_0x30dbad)throw _0x30dbad;UI[_0x176169(0x1c0)](_0x176169(0x189)+_0x32f53a+_0x176169(0x1cb)+_0x1e1791[_0x176169(0x1b3)],_0x176169(0x1be));}}else UI[_0x176169(0x1c0)]('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ\x20–ª–æ–≥–æ–≤\x20('+_0x45bf93+')\x20–Ω–µ\x20–ø—Ä–µ–≤—ã—à–∞–µ—Ç\x20–ª–∏–º–∏—Ç\x20('+_0x32f53a+')',_0x176169(0x1d4));return!![];}catch(_0x5ac465){return console[_0x176169(0x1bb)](_0x176169(0x1d8),_0x5ac465),UI[_0x176169(0x1c0)](_0x176169(0x19b),_0x176169(0x1bb)),![];}}function _0x4f87f2(_0x51c96b){const _0x182804=_0x46034c,_0x4b6cf8=new Date(_0x51c96b[_0x182804(0x1c5)])[_0x182804(0x1ab)]('ru-RU');let _0x197f88='';switch(_0x51c96b[_0x182804(0x1ef)]){case _0x46ed1f['EMPLOYEE_CREATE']:_0x197f88='‚ûï\x20–°–æ–∑–¥–∞–ª\x20—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:\x20'+(_0x51c96b['action_details']?.[_0x182804(0x199)]||'');break;case _0x46ed1f[_0x182804(0x18d)]:if(_0x51c96b[_0x182804(0x1b2)]?.[_0x182804(0x18b)]){const _0x4715ca=Object[_0x182804(0x184)](_0x51c96b[_0x182804(0x1b2)][_0x182804(0x18b)])[_0x182804(0x1df)](([_0x3fc726,_0x15d7ac])=>_0x3fc726+':\x20'+_0x15d7ac[_0x182804(0x1e3)]+'\x20‚Üí\x20'+_0x15d7ac[_0x182804(0x192)])[_0x182804(0x1cd)](';\x20');_0x197f88=_0x182804(0x1de)+_0x51c96b[_0x182804(0x1b2)]['employee'];}else _0x197f88=_0x182804(0x1ac)+(_0x51c96b[_0x182804(0x1b2)]?.[_0x182804(0x199)]||'');break;case _0x46ed1f['EMPLOYEE_DELETE']:_0x197f88=_0x182804(0x1ea)+(_0x51c96b[_0x182804(0x1b2)]?.['nickname']||'');break;case _0x46ed1f[_0x182804(0x1a5)]:_0x197f88=_0x182804(0x1a9)+(_0x51c96b[_0x182804(0x1b2)]?.[_0x182804(0x199)]||'');break;case _0x46ed1f['KUSP_CREATE']:_0x197f88=_0x182804(0x195)+(_0x51c96b[_0x182804(0x1dc)]||'');break;case _0x46ed1f[_0x182804(0x1f0)]:if(_0x51c96b[_0x182804(0x1b2)]?.[_0x182804(0x18b)]){const _0x50ec93=Object[_0x182804(0x1a6)](_0x51c96b['action_details'][_0x182804(0x18b)])[_0x182804(0x1b3)],_0x10c75d=Object[_0x182804(0x1a6)](_0x51c96b['action_details'][_0x182804(0x18b)])['join'](',\x20');_0x197f88=_0x182804(0x1a0)+_0x51c96b[_0x182804(0x1dc)];}else _0x197f88='üìù\x20–û–±–Ω–æ–≤–∏–ª\x20–∑–∞–ø–∏—Å—å\x20–ö–£–°–ü\x20‚Ññ'+(_0x51c96b['entity_id']||'');break;case _0x46ed1f[_0x182804(0x188)]:_0x197f88=_0x182804(0x1ba)+(_0x51c96b[_0x182804(0x1dc)]||'');_0x51c96b[_0x182804(0x1b2)]?.['violator']&&(_0x197f88+='\x20('+_0x51c96b[_0x182804(0x1b2)][_0x182804(0x18c)]+')');break;case _0x46ed1f[_0x182804(0x190)]:_0x197f88=_0x182804(0x1dd)+(_0x51c96b[_0x182804(0x1dc)]||'');break;case _0x46ed1f['PROTOCOL_DELETE']:_0x197f88=_0x182804(0x1e6)+(_0x51c96b[_0x182804(0x1dc)]||'');_0x51c96b['action_details']?.[_0x182804(0x18c)]&&(_0x197f88+='\x20('+_0x51c96b[_0x182804(0x1b2)][_0x182804(0x18c)]+')');break;case _0x46ed1f['KUSP_DELETE']:_0x197f88='üóëÔ∏è\x20–£–¥–∞–ª–∏–ª\x20–∑–∞–ø–∏—Å—å\x20–ö–£–°–ü\x20‚Ññ'+(_0x51c96b[_0x182804(0x1dc)]||'');break;case _0x46ed1f['USER_LOGIN']:_0x197f88=_0x182804(0x1da);break;case _0x46ed1f[_0x182804(0x1b9)]:_0x197f88=_0x182804(0x1d1);break;case _0x182804(0x1c9):_0x197f88=_0x182804(0x1f1)+_0x51c96b['entity_id']+_0x182804(0x19c);break;default:_0x197f88=_0x51c96b[_0x182804(0x1ef)];}let _0x520603='';if(_0x51c96b[_0x182804(0x1bf)]||_0x51c96b[_0x182804(0x1b2)]?.[_0x182804(0x191)]){_0x520603=_0x182804(0x196);if(_0x51c96b[_0x182804(0x1bf)])_0x520603+=_0x182804(0x1a2)+_0x51c96b[_0x182804(0x1bf)]+_0x182804(0x1b1);if(_0x51c96b[_0x182804(0x1b2)]?.[_0x182804(0x191)]){const _0x2239c=_0x51c96b[_0x182804(0x1b2)]['user_agent'],_0x3c80e5=_0x2239c[_0x182804(0x1e9)](_0x182804(0x1ec))?_0x182804(0x1ec):_0x2239c[_0x182804(0x1e9)](_0x182804(0x1b4))?_0x182804(0x1b4):_0x2239c[_0x182804(0x1e9)](_0x182804(0x19e))?'Safari':_0x182804(0x1bd);_0x520603+='–ë—Ä–∞—É–∑–µ—Ä:\x20'+_0x3c80e5;}_0x520603+='</div>';}return{..._0x51c96b,'formattedDate':_0x4b6cf8,'formattedAction':_0x197f88,'formattedUser':_0x51c96b[_0x182804(0x1d5)]+'\x20('+(_0x51c96b['user_category']||'‚Äî')+')','additionalDetails':_0x520603};}return{'ACTION_TYPES':_0x46ed1f,'log':_0x394a90,'getLogs':_0x44c1a6,'cleanOldLogs':_0x596db7,'trimLogsToCount':_0x5ab94b,'formatLogForDisplay':_0x4f87f2};}());window['Logger']=Logger;
